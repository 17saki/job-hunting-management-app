<!DOCTYPE html>
<html lang="ja">
<head>
<meta charset="UTF-8">
<title>新規作成</title>
<style>
  body { font-family: sans-serif; margin: 20px; }
  .form-container { width: 300px; border: 2px solid #0077aa; border-radius: 8px; padding: 10px; }
  .form-header { background: #0077aa; color: #fff; text-align: center; padding: 8px; font-weight: bold; }
  .form-row { display: flex; justify-content: space-between; align-items: center; margin: 10px 0; }
  .form-row input, .form-row select { width: 150px; }
  .save-btn { width: 100%; padding: 10px; background: #0077aa; color: #fff; border: none; border-radius: 5px; cursor: pointer; }
</style>
</head>
<body>

<div class="form-container">
  <div class="form-header">新規作成</div>
  
  <div class="form-row">
    <label>日付</label>
    <input type="date" id="date">
  </div>
  
  <div class="form-row">
    <label>時間</label>
    <select id="time">
      <option value="">選択</option>
      <!-- JSで1分刻みの時間を生成 -->
    </select>

  </div>
  
  <div class="form-row">
    <label>企業名</label>
    <input type="text" id="company">
  </div>
  
  <div class="form-row">
    <label>やること</label>
    <input type="text" id="task">
  </div>
  
  <div class="form-row">
    <label>メモ</label>
    <input type="text" id="memo">
  </div>
  
  <button class="save-btn" id="saveBtn">保存</button>
</div>

<script>
const timeSelect = document.getElementById('time');
for (let h = 0; h < 24; h++) {
  for (let m = 0; m < 60; m++) {
    const hh = String(h).padStart(2, '0');
    const mm = String(m).padStart(2, '0');
    const option = document.createElement('option');
    option.value = `${hh}:${mm}`;
    option.textContent = `${hh}:${mm}`;
    timeSelect.appendChild(option);
  }
}

// 保存ボタン処理
document.getElementById('saveBtn').addEventListener('click', () => {
  const date = document.getElementById('date').value;
  const time = document.getElementById('time').value;
  const company = document.getElementById('company').value;
  const task = document.getElementById('task').value;
  const memo = document.getElementById('memo').value;

  if (!date || !time || !task) {
    alert('日付・時間・やることは必須です');
    return;
  }

  // Todoリスト画面に追加（仮：localStorageで保持）
  const newTodo = { date, time, company, task, memo };
  let todos = JSON.parse(localStorage.getItem('todos') || '[]');
  todos.push(newTodo);
  localStorage.setItem('todos', JSON.stringify(todos));

  alert('保存しました');
  window.location.href = 'todo.html'; // Todoリスト画面へ遷移
});
</script>

</body>
</html>